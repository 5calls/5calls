{{ define "main" }}
<script type="module" src="https://d3js.org/d3.v6.js"></script>
<script src="https://d3js.org/topojson.v1.min.js"></script>
<div class="content">
  <h1>Your call makes a difference</h1>

  <!-- React component messages -->
  <div id="react-dashboard"></div>
</div>

<div class="content">
  <!-- dashboard contents are populated with d3 -->
  <div id="dashboard-content" style="visibility:hidden;">
    <div class="heading">
      <div id="topNav" role="tablist"></div>
      <div id="nav" role="tablist"></div>
    </div>
    <div class="dashboard_card" id="card_usa">
      <div class="total_card">
        <h3 class="subtitle_detail"></h3>
        <div class="highlight" id="total_all"></div>
        <div class="subtitle">
          <div class="subtitle_main">
            Across the nation
          </div>
        </div>
      </div>
      <div class="detail">
        <h3 class="detail_title">Top 5 calls this week</h3>
        <div class="description">
          The five most-called issues this week as recorded with 5 Calls and the call count for each
          in that time.
        </div>
        <ol id="top_five_all_holder">
      </div>
      <div id="state_map_section">
        <div id="state_map">
          <h3 class="detail_title">Top Call per State this week: 
            <select class="picker" id="state_select">
              <option id="none">Select a state</option>
            </select>
          </h3>
          <div class="description">
            The most called issue in each state in the past week, as recorded with 5 Calls
          </div>
        </div>
       
        <div id="state_map_label" class="overlayBox label absolute" hidden>
          <input type="button" alt="close" value="X" id="close_label_btn"/>
          <div class="title"></div>
          <div class="issue_name"></div>
        </div>

        <div class="overlayBox">
          <div class="title">Top Call by State:</div>
          <ol id="state_map_key">
          </ol>
        </div>
      </div>
    
      <div class="total_card" id="state_total_card">
        <h3 class="subtitle_detail"></h3>
        <div class="highlight" id="total_state"></div>
        <div class="subtitle">
          <div class="subtitle_main" id="state_name_subtitle">
          </div>
        </div>      
      </div>

      <div class="detail" id="state_detail" hidden>
        <h3 id="state_detail_title"></h3>
        <div class="description">
          The five most-called issues this week in the state as recorded with 5 Calls and the
          call count for each in that time.
        </div>
        <ol id="top_five_state_holder">
      </div>
    </div>

    <div id="location_picker" hidden>
     <!-- TODO: Put the proper location picker here. -->
     <div>After setting your location, refresh this page. (Placeholder functionality!)</div>
      <div class="i-bar-location" id="react-location">
        <div>
          <span>&nbsp;</span>
          <strong>&nbsp;</strong>
          <button class="button-link">&nbsp;</button>
        </div>
      </div>
    </div>
  
    <div id="reps_section"></div>
  </div>

  <footer>
    <p>This data is from calls recorded by people using 5calls.org or the 5 Calls Android and iOS apps
    to tally their call results. It does not reflect every call made to Congress nationwide.
    User-generated data is not guaranteed to be accurate but we hope it is a reflection of public
    interest across the country.</p>
  </footer>
</div>
{{ end }}
